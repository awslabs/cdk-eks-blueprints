
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../emr-eks-team/">
      
      
        <link rel="next" href="../bedrock-team/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>AWS Batch on EKS Team - Amazon EKS Blueprints Quick Start</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aws-batch-on-eks-team" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Amazon EKS Blueprints Quick Start" class="md-header__button md-logo" aria-label="Amazon EKS Blueprints Quick Start" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Amazon EKS Blueprints Quick Start
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AWS Batch on EKS Team
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/awslabs/cdk-eks-blueprints" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    awslabs/cdk-eks-blueprints
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Amazon EKS Blueprints Quick Start" class="md-nav__button md-logo" aria-label="Amazon EKS Blueprints Quick Start" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Amazon EKS Blueprints Quick Start
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/awslabs/cdk-eks-blueprints" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    awslabs/cdk-eks-blueprints
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multi-Cluster Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../opa-gatekeeper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OPA Gatekeeper
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Teams
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Teams
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../teams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Teams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../emr-eks-team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EMR on EKS Team
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    AWS Batch on EKS Team
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    AWS Batch on EKS Team
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-job-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Job definition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submit-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      Submit a Job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-job-completion" class="md-nav__link">
    <span class="md-ellipsis">
      Verify Job completion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bedrock-team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bedrock Team
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pipelines
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AddOns
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            AddOns
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/ack-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ACK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/adot-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ADOT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/amp-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AMP ADOT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/app-mesh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS App Mesh
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/apache-airflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apache Airflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-batch-on-eks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS Batch for EKS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/argo-cd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ArgoCD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-for-fluent-bit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS For Fluent Bit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-gateway-api-controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS Gateway API Controller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-load-balancer-controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS Load Balancer Controller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-alb-default-ingress-class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS ALB Default IngressClass
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-node-termination-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS Node Termination Handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-privateca-issuer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS Private CA Issuer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/backstage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backstage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/calico/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calico
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/calico-operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calico Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/cert-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Certificate Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/cloudwatch-adot-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CloudWatch ADOT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/aws-cloudwatch-insights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CloudWatch Insights
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/cluster-autoscaler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cluster Autoscaler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/container-insights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Container Insights
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/coredns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CoreDns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/datadog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Datadog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/dynatrace-oss/dynatrace-eks-blueprints-addon" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dynatrace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/ebs-csi-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EBS CSI Driver
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/ebs-csi-default-storage-class/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EBS CSI Default StorageClass
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/efs-csi-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EFS CSI Driver
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/external-dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External DNS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/external-secrets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External Secrets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/emr-eks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EMR on EKS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/fluxcd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FluxCD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/gmaestro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gmaestro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/gpu-operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NVIDIA GPU Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/grafana-operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/instana-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IBM Instana
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/ingress-nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingress Nginx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/istio-base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Istio Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/istio-control-plane/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Istio Control Plane
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/istio-cni/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Istio CNI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/istio-ingress-gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Istio Ingress Gateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/jupyterhub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JupyterHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/karpenter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Karpenter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kasten-k10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kasten
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/keda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/keptn-sandbox/keptn-eks-blueprints-addon" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keptn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/knative-operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knative
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/komodorio/komodor-eks-blueprints-addon" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Komodor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/konveyor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Konveyor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kube-proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kube Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kubecost/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubecost
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kubeflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubeflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kuberay-operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KubeRay Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kubeshark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubeshark
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kubevious/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubevious
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/kube-state-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kube State Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/metrics-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/newrelic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New Relic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nginx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/neuron-device-plugin-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Neuron Device
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/neuron-monitor-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Neuron Monitor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/opa-gatekeeper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OPA Gatekeeper
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/paralus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paralus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/pixie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pixie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/prometheus-node-exporter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prometheus Node Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/rafay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rafay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/s3-csi-driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    S3 CSI Driver
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/secrets-store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Secrets Store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/snyk-partners/snyk-monitor-eks-blueprints-addon" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Snyk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/ssm-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSM Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/upbound-universal-crossplane/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upbound Universal Crossplane
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/velero/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Velero
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/vpc-cni/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vpc Cni
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/xray/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS XRay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../addons/xray-adot-addon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS XRay ADOT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Internal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Internal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CodeBuild CI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/input-validations-framework-readme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Input Validation Framework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/readme-internal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Readme
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cluster Providers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Cluster Providers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/generic-cluster-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic Cluster Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/asg-cluster-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ASG Cluster Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/mng-cluster-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MNG Cluster Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/fargate-cluster-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fargate Cluster Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/import-cluster-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Import Cluster Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/generic-cluster-provider-v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic Cluster Provider V2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster-providers/automode-cluster-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto Mode Cluster Provider
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Resource Providers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Resource Providers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/amp-provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AMP Resource Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/certificate-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Certificate Resource Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/efs-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    EFS Resource Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/hosted-zone-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hosted Zone Resource Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/iam-role-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IAM Role Resource Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/kms-key-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KMS Key Resource Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/s3-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    S3 Bucket Resource Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-providers/vpc-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPC Resource Providers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Builders
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Builders
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builders/automode-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto Mode Builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builders/bedrock-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bedrock Builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builders/graviton-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graviton Builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builders/gpu-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GPU Builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builders/observability-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observability Builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builders/windows-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows Builder
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensibility
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-job-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Job definition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submit-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      Submit a Job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-job-completion" class="md-nav__link">
    <span class="md-ellipsis">
      Verify Job completion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="aws-batch-on-eks-team">AWS Batch on EKS Team<a class="headerlink" href="#aws-batch-on-eks-team" title="Permanent link">&para;</a></h1>
<p>The <code>AWS Batch on EKS Team</code> extends the <code>ApplicationTeam</code> and allows the Batch on EKS team to manage the namespace where the Batch Jobs are deployed. This team <strong>MUST</strong> be used in conjuction with <a href="../../addons/aws-batch-on-eks/">EMR on EKS AddOn</a>.</p>
<p>The AWS Batch on EKS Team allows you to create a <a href="https://docs.aws.amazon.com/batch/latest/userguide/compute-environments-eks.html">Compute Environment</a> and a job queue to attach to the compute environment. Job queues are where jobs are submitted, and where they reside until they can be scheduled in the compute environment.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;source-map-support/register&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">cdk</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;aws-cdk-lib&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">blueprints</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@aws-quickstart/eks-blueprints&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">cdk</span><span class="p">.</span><span class="nx">App</span><span class="p">();</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">addOn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">blueprints</span><span class="p">.</span><span class="nx">addons</span><span class="p">.</span><span class="nx">AwsBatchAddOn</span><span class="p">();</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">batchTeam</span><span class="o">:</span><span class="w"> </span><span class="kt">BatchEksTeamProps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;batch-a&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">namespace</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;aws-batch&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">envName</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;batch-a-comp-env&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">computeResources</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">envType</span><span class="o">:</span><span class="w"> </span><span class="kt">BatchEnvType.EC2</span><span class="p">,</span>
<span class="w">        </span><span class="nx">allocationStrategy</span><span class="o">:</span><span class="w"> </span><span class="kt">BatchAllocationStrategy.BEST</span><span class="p">,</span>
<span class="w">        </span><span class="nx">priority</span><span class="o">:</span><span class="w"> </span><span class="kt">10</span><span class="p">,</span>
<span class="w">        </span><span class="nx">minvCpus</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span>
<span class="w">        </span><span class="nx">maxvCpus</span><span class="o">:</span><span class="w"> </span><span class="kt">128</span><span class="p">,</span>
<span class="w">        </span><span class="nx">instanceTypes</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;m5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;t3.large&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">jobQueueName</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;team-a-job-queue&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">blueprint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">blueprints</span><span class="p">.</span><span class="nx">EksBlueprint</span><span class="p">.</span><span class="nx">builder</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">version</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">addOns</span><span class="p">(</span><span class="nx">addOn</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">teams</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">blueprints</span><span class="p">.</span><span class="nx">BatchEksTeam</span><span class="p">(</span><span class="nx">batchTeam</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="nx">build</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;my-stack-name&#39;</span><span class="p">);</span>
</code></pre></div>
<h2 id="create-a-job-definition">Create a Job definition<a class="headerlink" href="#create-a-job-definition" title="Permanent link">&para;</a></h2>
<p>Once you deploy the addon and the team, to run a batch job on EKS, you must first define a job. AWS Batch job definitions specify how jobs are to be run. The following is an example job definition you can set using AWS CLI:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOF &gt; ./batch-eks-job-definition.json</span>
<span class="s">{</span>
<span class="s">  &quot;jobDefinitionName&quot;: &quot;MyJobOnEks_Sleep&quot;,</span>
<span class="s">  &quot;type&quot;: &quot;container&quot;,</span>
<span class="s">  &quot;eksProperties&quot;: {</span>
<span class="s">    &quot;podProperties&quot;: {</span>
<span class="s">      &quot;hostNetwork&quot;: true,</span>
<span class="s">      &quot;containers&quot;: [</span>
<span class="s">        {</span>
<span class="s">          &quot;image&quot;: &quot;public.ecr.aws/amazonlinux/amazonlinux:2&quot;,</span>
<span class="s">          &quot;command&quot;: [</span>
<span class="s">            &quot;sleep&quot;,</span>
<span class="s">            &quot;60&quot;</span>
<span class="s">          ],</span>
<span class="s">          &quot;resources&quot;: {</span>
<span class="s">            &quot;limits&quot;: {</span>
<span class="s">              &quot;cpu&quot;: &quot;1&quot;,</span>
<span class="s">              &quot;memory&quot;: &quot;1024Mi&quot;</span>
<span class="s">            }</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      ]</span>
<span class="s">    }</span>
<span class="s">  }</span>
<span class="s">}</span>
<span class="s">EOF</span>
aws<span class="w"> </span>batch<span class="w"> </span>register-job-definition<span class="w"> </span>--cli-input-json<span class="w"> </span>file://./batch-eks-job-definition.json
</code></pre></div>
<h2 id="submit-a-job">Submit a Job<a class="headerlink" href="#submit-a-job" title="Permanent link">&para;</a></h2>
<p>Using the job definition, you can define and deploy a specific job using the following example AWS CLI command:</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>batch<span class="w"> </span>submit-job<span class="w"> </span>--job-queue<span class="w"> </span>team-a-job-queue<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--job-definition<span class="w"> </span>MyJobOnEks_Sleep<span class="w"> </span>--job-name<span class="w"> </span>My-Eks-Job1
</code></pre></div>
<p>You will get an output that lists the Job ID:</p>
<div class="highlight"><pre><span></span><code>{
    &quot;jobArn&quot;: &quot;arn:aws:batch:us-west-2:123456789012:job/9518c9eb-b261-4732-a38d-54caf1d22229&quot;,
    &quot;jobName&quot;: &quot;My-Eks-Job1&quot;,
    &quot;jobId&quot;: &quot;9518c9eb-b261-4732-a38d-54caf1d22229&quot;
}
</code></pre></div>
<h2 id="verify-job-completion">Verify Job completion<a class="headerlink" href="#verify-job-completion" title="Permanent link">&para;</a></h2>
<p>You can see the job by running the following command:</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>batch<span class="w"> </span>describe-jobs<span class="w"> </span>--job<span class="w"> </span>&lt;jobId-from-submit-response&gt;<span class="w"> </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>{
    &quot;jobs&quot;: [
        {
            &quot;jobArn&quot;: &quot;arn:aws:batch:us-west-2:123456789012:job/9518c9eb-b261-4732-a38d-54caf1d22229&quot;,
            &quot;jobName&quot;: &quot;My-Eks-Job1&quot;,
            &quot;jobId&quot;: &quot;9518c9eb-b261-4732-a38d-54caf1d22229&quot;,
            &quot;jobQueue&quot;: &quot;arn:aws:batch:us-west-2:123456789012:job-queue/team-a-job-queue&quot;,
            &quot;status&quot;: &quot;RUNNABLE&quot;,
            &quot;attempts&quot;: [],
            &quot;createdAt&quot;: 1676581820093,
            &quot;dependsOn&quot;: [],
            &quot;jobDefinition&quot;: &quot;arn:aws:batch:us-west-2:123456789012:job-definition/MyJobOnEks_Sleep:1&quot;,
            &quot;parameters&quot;: {},
            &quot;tags&quot;: {},
            &quot;platformCapabilities&quot;: [],
            &quot;eksProperties&quot;: {
                &quot;podProperties&quot;: {
                    &quot;hostNetwork&quot;: true,
                    &quot;containers&quot;: [
                        {
                            &quot;image&quot;: &quot;public.ecr.aws/amazonlinux/amazonlinux:2&quot;,
                            &quot;command&quot;: [
                                &quot;sleep&quot;,
                                &quot;60&quot;
                            ],
                            &quot;args&quot;: [],
                            &quot;env&quot;: [],
                            &quot;resources&quot;: {
                                &quot;limits&quot;: {
                                    &quot;memory&quot;: &quot;1024Mi&quot;,
                                    &quot;cpu&quot;: &quot;1&quot;
                                }
                            },
                            &quot;volumeMounts&quot;: []
                        }
                    ],
                    &quot;volumes&quot;: []
                }
            },
            &quot;eksAttempts&quot;: []
        }
    ]
}
</code></pre></div>
<p>After a while, you can check that the pod has been created (and eventually deleted after job completion) under the <code>aws-batch</code> namespace to run the job:</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>pod<span class="w"> </span>-n<span class="w"> </span>aws-batch<span class="w"> </span>
</code></pre></div>
<p>You can also check that the job has been completed by running the describe job command again and seeing the output. There should be description of the pod and node assignment for the job under <code>eksAttempts</code>:</p>
<div class="highlight"><pre><span></span><code>.......................
            &quot;eksAttempts&quot;: [
                {
                    &quot;containers&quot;: [
                        {
                            &quot;exitCode&quot;: 0,
                            &quot;reason&quot;: &quot;Completed&quot;
                        }
                    ],
                    &quot;podName&quot;: &quot;aws-batch.fa024ec9-4232-3e82-b09b-4ba6ba396ec2&quot;,
                    &quot;nodeName&quot;: &quot;ip-10-0-81-102.us-west-2.compute.internal&quot;,
                    &quot;startedAt&quot;: 1676581976000,
                    &quot;stoppedAt&quot;: 1676582036000
                }
            ]
.......................
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>